{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "input-03",
  "type": "registry:component",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "input",
    "label"
  ],
  "files": [
    {
      "path": "components/capybaraui/input/input-03.tsx",
      "content": "\"use client\"\r\n\r\nimport { useId, useMemo, useState } from \"react\"\r\nimport { CheckIcon, EyeIcon, EyeOffIcon, XIcon } from \"lucide-react\"\r\n\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\n\r\nexport default function Input03() {\r\n  const id = useId()\r\n  const [password, setPassword] = useState(\"\")\r\n  const [isVisible, setIsVisible] = useState<boolean>(false)\r\n\r\n  const toggleVisibility = () => setIsVisible((prevState) => !prevState)\r\n\r\n  const checkStrength = (pass: string) => {\r\n    const requirements = [\r\n      { regex: /.{8,}/, text: \"At least 8 characters\" },\r\n      { regex: /[0-9]/, text: \"At least 1 number\" },\r\n      { regex: /[a-z]/, text: \"At least 1 lowercase letter\" },\r\n      { regex: /[A-Z]/, text: \"At least 1 uppercase letter\" },\r\n    ]\r\n\r\n    return requirements.map((req) => ({\r\n      met: req.regex.test(pass),\r\n      text: req.text,\r\n    }))\r\n  }\r\n\r\n  const strength = checkStrength(password)\r\n\r\n  const strengthScore = useMemo(() => {\r\n    return strength.filter((req) => req.met).length\r\n  }, [strength])\r\n\r\n  const getStrengthColor = (score: number) => {\r\n    if (score === 0) return \"bg-border\"\r\n    if (score <= 1) return \"bg-red-500\"\r\n    if (score <= 2) return \"bg-orange-500\"\r\n    if (score === 3) return \"bg-amber-500\"\r\n    return \"bg-emerald-500\"\r\n  }\r\n\r\n  const getStrengthText = (score: number) => {\r\n    if (score === 0) return \"Enter a password\"\r\n    if (score <= 2) return \"Weak password\"\r\n    if (score === 3) return \"Medium password\"\r\n    return \"Strong password\"\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* Password input field with toggle visibility button */}\r\n      <div className=\"*:not-first:mt-2\">\r\n        <Label htmlFor={id}>Input with password strength indicator</Label>\r\n        <div className=\"relative\">\r\n          <Input\r\n            id={id}\r\n            className=\"pe-9\"\r\n            placeholder=\"Password\"\r\n            type={isVisible ? \"text\" : \"password\"}\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            aria-describedby={`${id}-description`}\r\n          />\r\n          <button\r\n            className=\"absolute inset-y-0 end-0 flex h-full w-9 items-center justify-center rounded-e-md text-muted-foreground/80 transition-[color,box-shadow] outline-none hover:text-foreground focus:z-10 focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\"\r\n            type=\"button\"\r\n            onClick={toggleVisibility}\r\n            aria-label={isVisible ? \"Hide password\" : \"Show password\"}\r\n            aria-pressed={isVisible}\r\n            aria-controls=\"password\"\r\n          >\r\n            {isVisible ? (\r\n              <EyeOffIcon size={16} aria-hidden=\"true\" />\r\n            ) : (\r\n              <EyeIcon size={16} aria-hidden=\"true\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Password strength indicator */}\r\n      <div\r\n        className=\"mt-3 mb-4 h-1 w-full overflow-hidden rounded-full bg-border\"\r\n        role=\"progressbar\"\r\n        aria-valuenow={strengthScore}\r\n        aria-valuemin={0}\r\n        aria-valuemax={4}\r\n        aria-label=\"Password strength\"\r\n      >\r\n        <div\r\n          className={`h-full ${getStrengthColor(strengthScore)} transition-all duration-500 ease-out`}\r\n          style={{ width: `${(strengthScore / 4) * 100}%` }}\r\n        ></div>\r\n      </div>\r\n\r\n      {/* Password strength description */}\r\n      <p\r\n        id={`${id}-description`}\r\n        className=\"mb-2 text-sm font-medium text-foreground\"\r\n      >\r\n        {getStrengthText(strengthScore)}. Must contain:\r\n      </p>\r\n\r\n      {/* Password requirements list */}\r\n      <ul className=\"space-y-1.5\" aria-label=\"Password requirements\">\r\n        {strength.map((req, index) => (\r\n          <li key={index} className=\"flex items-center gap-2\">\r\n            {req.met ? (\r\n              <CheckIcon\r\n                size={16}\r\n                className=\"text-emerald-500\"\r\n                aria-hidden=\"true\"\r\n              />\r\n            ) : (\r\n              <XIcon\r\n                size={16}\r\n                className=\"text-muted-foreground/80\"\r\n                aria-hidden=\"true\"\r\n              />\r\n            )}\r\n            <span\r\n              className={`text-xs ${req.met ? \"text-emerald-600\" : \"text-muted-foreground\"}`}\r\n            >\r\n              {req.text}\r\n              <span className=\"sr-only\">\r\n                {req.met ? \" - Requirement met\" : \" - Requirement not met\"}\r\n              </span>\r\n            </span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n",
      "type": "registry:component",
      "target": "components/capybaraui/input-03.tsx"
    }
  ]
}